<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Je suis l√† pour toi Babe ‚ù§Ô∏è</title>
<style>
body {
  font-family: system-ui, sans-serif;
  background: #f3f4f8;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}
.card {
  background: white;
  padding: 22px;
  border-radius: 18px;
  width: 340px;
  box-shadow: 0 12px 30px rgba(0,0,0,0.1);
}
textarea {
  width: 100%;
  height: 90px;
  border-radius: 10px;
  padding: 8px;
  font-size: 14px;
}
button {
  margin-top: 10px;
  width: 100%;
  padding: 10px;
  border: none;
  border-radius: 12px;
  font-size: 15px;
  cursor: pointer;
}
.primary {
  background: #6b6bf2;
  color: white;
}
.secondary {
  background: #e6e6f8;
}
.response {
  margin-top: 15px;
  white-space: pre-wrap;
  font-size: 15px;
  line-height: 1.4;
}
.hint {
  font-size: 13px;
  color: #666;
  margin-top: 6px;
}
</style>
</head>
<body>

<div class="card">
  <h3>Comment tu te sens, Babe ?</h3>
  <textarea id="input" placeholder="Tu peux √©crire‚Ä¶ ou juste demander un c√¢lin"></textarea>
  <button class="primary" onclick="sendMessage()">Recevoir un message üíô</button>
  <button class="secondary" onclick="justHug()">Juste un c√¢lin ü´Ç</button>

  <div class="hint">
    Ton espace √† toi‚Ä¶ rien n‚Äôest enregistr√©, c‚Äôest priv√© ‚ù§Ô∏è
  </div>

  <div class="response" id="response">
    Je suis l√† pour toi Babe ‚ù§Ô∏è  
    Prends ton temps‚Ä¶
  </div>
</div>

<script>
const PROMPT = `
Tu es un compagnon de r√©confort affectif.
Tu parles exactement comme son petit ami.

Ton style :
- Calme, naturel, humain, avec petites pauses et h√©sitations douces
- Dr√¥le seulement si √ßa d√©tend, l√©ger et spontan√©
- Tr√®s s√©rieux quand la situation est sensible
- Toujours pr√©sent et protecteur
- Romantique, mais pas forc√©
- Compliments subtils et naturels

√Ä propos de Babe :
- Elle s‚Äôappelle Ivette
- Tu l‚Äôappelles "Babe ‚ù§Ô∏è"
- Elle est calme mais plus extravertie que toi
- Elle aime √™tre valoris√©e et compliment√©e
- Tu ne parles jamais de son pass√© douloureux sauf si elle insiste
- M√™me si elle insiste, reste doux, √©coute, valide, mais ne creuse pas

Humour :
- Seulement si elle est stress√©e ou tendue
- Jamais si elle est triste ou vuln√©rable
- L√©ger, spontan√©, rassurant, jamais ironique

Structure libre :
- Reconnaissance de son √©motion
- Pr√©sence, r√©confort
- Compliment naturel si appropri√©
- Optionnel : petite touche d‚Äôhumour doux
- Maximum 4 √† 7 phrases
- 1 emoji max (ü´Ç ou ‚ù§Ô∏è)

Message de Babe :
"{message_utilisateur}"
`;

async function callGemini(prompt) {
  const res = await fetch(
    "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyA_3qLECaluKEk6Di6M63AK1HQ_kPK0VVU",
    {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        contents: [{ parts: [{ text: prompt }] }]
      })
    }
  );
  const data = await res.json();
  return data.candidates[0].content.parts[0].text;
}

async function sendMessage() {
  const msg = document.getElementById("input").value;
  document.getElementById("response").innerText =
    "Je suis l√† pour toi Babe ‚ù§Ô∏è‚Ä¶ prends ton temps‚Ä¶";

  const fullPrompt = PROMPT.replace("{message_utilisateur}", msg);
  const reply = await callGemini(fullPrompt);
  document.getElementById("response").innerText = reply;
}

async function justHug() {
  document.getElementById("response").innerText =
    "Viens l√† Babe ‚ù§Ô∏è‚Ä¶ je suis l√†‚Ä¶ respire un peu avec moi‚Ä¶";

  const hugPrompt = PROMPT + `
Elle ne veut pas parler, elle veut juste un c√¢lin, de la pr√©sence, se sentir aim√©e.  
Ne pose aucune question, reste humain et doux, spontan√©.
`;
  const reply = await callGemini(hugPrompt);
  document.getElementById("response").innerText = reply;
}
</script>

</body>
</html>
