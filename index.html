<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bae â¤ï¸</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, #1a0b2e 0%, #0d1117 50%, #2d1b4e 100%);
            background-size: 400% 400%;
            animation: gradient-shift 15s ease infinite;
            color: white;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) translateX(0px); }
            25% { transform: translateY(-20px) translateX(10px); }
            50% { transform: translateY(-10px) translateX(-10px); }
            75% { transform: translateY(-15px) translateX(5px); }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(155, 89, 182, 0.3); }
            50% { box-shadow: 0 0 40px rgba(155, 89, 182, 0.6); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }

        @keyframes typing {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Particules flottantes */
        .particle {
            position: fixed;
            font-size: 25px;
            opacity: 0.6;
            pointer-events: none;
            z-index: 1;
        }

        .particle1 { top: 10%; left: 10%; animation: float 6s ease-in-out infinite; }
        .particle2 { top: 60%; right: 15%; animation: float 8s ease-in-out infinite; }
        .particle3 { top: 30%; right: 30%; animation: float 7s ease-in-out infinite 1s; }
        .particle4 { bottom: 20%; left: 20%; animation: float 9s ease-in-out infinite 2s; }

        /* Header */
        .chat-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            width: 100%;
            background: rgba(74, 20, 140, 0.3);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            padding: 18px;
            text-align: center;
            z-index: 1000;
            border-bottom: 2px solid rgba(224, 176, 255, 0.2);
            animation: glow 3s ease-in-out infinite;
        }

        .chat-header h2 {
            color: #e0b0ff;
            margin: 0;
            font-size: 24px;
            text-shadow: 0 0 20px rgba(224, 176, 255, 0.5);
            font-weight: 700;
        }

        .online-status {
            color: #2ecc71;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 5px;
        }

        .pulse-dot {
            width: 8px;
            height: 8px;
            background: #2ecc71;
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
        }

        /* Container principal */
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 100px 20px 20px;
        }

        /* Compte Ã  rebours */
        .countdown-box {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 15px;
            border: 2px dashed #e0b0ff;
            margin-bottom: 25px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(155, 89, 182, 0.2);
            animation: glow 4s ease-in-out infinite;
        }

        /* Boutons menu */
        .menu-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .btn {
            background: rgba(155, 89, 182, 0.2);
            backdrop-filter: blur(10px);
            border: 2px solid #9b59b6;
            color: #e0b0ff;
            border-radius: 20px;
            padding: 12px 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(155, 89, 182, 0.2);
            font-size: 14px;
            font-family: 'Quicksand', sans-serif;
        }

        .btn:hover {
            background: rgba(155, 89, 182, 0.4);
            border: 2px solid #da70d6;
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(155, 89, 182, 0.4);
        }

        /* Compteur de jours */
        .days-counter {
            text-align: center;
            color: #da70d6;
            font-size: 15px;
            margin: 20px 0;
            padding: 10px;
            background: rgba(218, 112, 214, 0.1);
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        /* Chat container */
        .chat-container {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            max-height: 500px;
            overflow-y: auto;
        }

        /* Messages */
        .message {
            margin-bottom: 15px;
            animation: typing 0.5s ease-out;
        }

        .message.user {
            text-align: right;
        }

        .message-bubble {
            display: inline-block;
            padding: 12px 18px;
            border-radius: 20px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .message.assistant .message-bubble {
            background: rgba(74, 20, 140, 0.4);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(155, 89, 182, 0.3);
            box-shadow: 0 8px 32px rgba(74, 20, 140, 0.3);
            border-radius: 20px 20px 20px 5px;
            text-align: left;
        }

        .message.user .message-bubble {
            background: rgba(44, 62, 80, 0.4);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(155, 89, 182, 0.2);
            box-shadow: 0 8px 32px rgba(44, 62, 80, 0.3);
            border-radius: 20px 20px 5px 20px;
        }

        .emoji {
            font-size: 28px;
            margin-right: 10px;
            display: inline-block;
            transition: transform 0.3s ease;
        }

        .emoji:hover {
            transform: scale(1.3) rotate(10deg);
        }

        /* Input zone */
        .input-container {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(26, 11, 46, 0.9);
            backdrop-filter: blur(20px);
            padding: 15px;
            border-top: 1px solid rgba(155, 89, 182, 0.3);
        }

        .input-wrapper {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            gap: 10px;
        }

        #userInput {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(155, 89, 182, 0.3);
            border-radius: 25px;
            padding: 12px 20px;
            color: white;
            font-size: 15px;
            font-family: 'Quicksand', sans-serif;
            outline: none;
        }

        #userInput::placeholder {
            color: rgba(224, 176, 255, 0.5);
        }

        #sendBtn {
            background: rgba(155, 89, 182, 0.3);
            border: 2px solid #9b59b6;
            color: #e0b0ff;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.3s ease;
        }

        #sendBtn:hover {
            background: rgba(155, 89, 182, 0.5);
            transform: scale(1.1);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: rgba(74, 20, 140, 0.4);
            backdrop-filter: blur(20px);
            border: 2px solid #9b59b6;
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 100%;
            text-align: center;
            animation: typing 0.3s ease-out;
        }

        .modal-close {
            background: rgba(155, 89, 182, 0.3);
            border: 2px solid #9b59b6;
            color: #e0b0ff;
            border-radius: 10px;
            padding: 10px 20px;
            margin-top: 20px;
            cursor: pointer;
            font-family: 'Quicksand', sans-serif;
            font-weight: 600;
        }

        video {
            width: 100%;
            border-radius: 15px;
            margin-top: 15px;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(26, 11, 46, 0.5);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #9b59b6, #da70d6);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #da70d6, #9b59b6);
        }

        /* Notification toast */
        .toast {
            position: fixed;
            bottom: 100px;
            right: 20px;
            background: rgba(155, 89, 182, 0.9);
            backdrop-filter: blur(10px);
            padding: 15px 25px;
            border-radius: 15px;
            border: 2px solid #da70d6;
            color: white;
            font-weight: 600;
            animation: typing 0.3s ease-out;
            z-index: 3000;
            display: none;
        }

        .toast.active {
            display: block;
        }

        /* Saint-Valentin surprise */
        .valentine-box {
            background: linear-gradient(135deg, #ff4b4b, #ff69b4);
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            border: 3px solid white;
            box-shadow: 0 10px 50px rgba(255, 75, 75, 0.5);
            margin-bottom: 25px;
        }

        .valentine-box h1 {
            margin: 0 0 15px 0;
            font-size: 28px;
        }

        .valentine-box p {
            font-size: 16px;
            margin: 10px 0;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .container {
                padding: 90px 15px 100px;
            }
            
            .menu-buttons {
                grid-template-columns: 1fr;
            }
            
            .chat-header h2 {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Particules flottantes -->
    <div class="particle particle1">âœ¨</div>
    <div class="particle particle2">ğŸ’œ</div>
    <div class="particle particle3">ğŸ’•</div>
    <div class="particle particle4">ğŸŒŸ</div>

    <!-- Header -->
    <div class="chat-header">
        <h2>ğŸ’œ Bae</h2>
        <div class="online-status">
            <div class="pulse-dot"></div>
            <span>en ligne</span>
        </div>
    </div>

    <!-- Container principal -->
    <div class="container">
        <!-- Compte Ã  rebours Saint-Valentin -->
        <div id="countdownContainer"></div>

        <!-- Boutons menu -->
        <div class="menu-buttons">
            <button class="btn" onclick="showSecret()">âœ¨ Notre coin secret</button>
            <button class="btn" onclick="showMessage()">ğŸ’Œ Message du jour</button>
            <button class="btn" onclick="showMood()">ğŸ“Š Comment tu te sens ?</button>
            <button class="btn" onclick="showCompliment()">ğŸ Compliment surprise</button>
        </div>

        <!-- Compteur de jours -->
        <div class="days-counter" id="daysCounter"></div>

        <!-- Chat -->
        <div class="chat-container" id="chatContainer">
            <div class="message assistant">
                <div class="message-bubble">
                    <span class="emoji">ğŸ‘‹</span>
                    <span>Coucou Babe â¤ï¸ Je suis lÃ . Comment tu te sens ?</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Input zone -->
    <div class="input-container">
        <div class="input-wrapper">
            <input type="text" id="userInput" placeholder="Ã‰cris Ã  ton Bae..." onkeypress="handleKeyPress(event)">
            <button id="sendBtn" onclick="sendMessage()">ğŸ’œ</button>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal" id="modal">
        <div class="modal-content" id="modalContent">
            <button class="modal-close" onclick="closeModal()">Fermer â¤ï¸</button>
        </div>
    </div>

    <!-- Toast notification -->
    <div class="toast" id="toast"></div>

    <script>
        // ===== CONFIGURATION =====
        const dateRencontre = new Date('2023-07-01');
        const saintValentin = new Date('2026-02-14');
        const surnoms = ["Babe", "Ivette", "mon cÅ“ur", "ma chÃ©rie", "mon amour", "ma princesse", "ma belle"];

        // ===== FONCTIONS UTILITAIRES =====
        function getSurnom() {
            return surnoms[Math.floor(Math.random() * surnoms.length)];
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('active');
            setTimeout(() => toast.classList.remove('active'), 3000);
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // ===== COMPTEUR DE JOURS =====
        function updateCounters() {
            const now = new Date();
            const diffTime = Math.abs(now - dateRencontre);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            document.getElementById('daysCounter').innerHTML = `
                â³ <b>${diffDays} jours</b> de pur bonheur ensemble âœ¨<br>
                <small style='color: #e0b0ff;'>Et ce n'est que le dÃ©but...</small>
            `;

            // Saint-Valentin
            const joursRestants = Math.ceil((saintValentin - now) / (1000 * 60 * 60 * 24));
            const countdownContainer = document.getElementById('countdownContainer');
            
            if (joursRestants > 0) {
                countdownContainer.innerHTML = `
                    <div class="countdown-box">
                        ğŸ’ <b>J-${joursRestants} jours</b> avant ta surprise de Saint-Valentin... patience mon amour ! ğŸŒ¹
                    </div>
                `;
            } else {
                countdownContainer.innerHTML = `
                    <div class="valentine-box">
                        <h1>â¤ï¸ JOYEUSE SAINT-VALENTIN â¤ï¸</h1>
                        <p>Mon amour, aujourd'hui est un jour spÃ©cial. Merci d'Ãªtre dans ma vie.</p>
                        <p>ğŸ <i>[Ta surprise ici : ex: Je t'emmÃ¨ne au resto ce soir !]</i></p>
                    </div>
                `;
            }
        }

        // ===== BASE DE DONNÃ‰ES DES RÃ‰PONSES =====
        const database = {
            fatigue: {
                keywords: ["fatiguÃ©", "fatigue", "Ã©puisÃ©", "dodo", "sommeil", "naze", "crevÃ©", "dormir", "extÃ©nuÃ©", "Ã©puisÃ©e", "claquÃ©e", "hs", "morte"],
                replies: [
                    {text: `Oh ${getSurnom()}... pose tout et viens te reposer un peu avec moi. â¤ï¸`, emoji: "ğŸ˜´"},
                    {text: `Je sens la fatigue d'ici ${getSurnom()}. Si j'Ã©tais lÃ , je te ferais un massage pour que tu t'endormes direct. ğŸ«‚`, emoji: "ğŸ’†â€â™€ï¸"},
                    {text: `Repose-toi ${getSurnom()}. Tu as trop travaillÃ© aujourd'hui, tu mÃ©rites du calme. âœ¨`, emoji: "ğŸ›Œ"},
                    {text: "Ferme les yeux quelques minutes... je reste lÃ  avec toi. ğŸ«‚", emoji: "ğŸ’¤"},
                    {text: `${getSurnom()}, t'as le droit de souffler tu sais. Pose ton tel et fais une micro-sieste. ğŸ˜´`, emoji: "ğŸŒ™"},
                    {text: "Tu travailles trop dur... Laisse-moi prendre soin de toi mentalement lÃ , d'accord ? ğŸ’œ", emoji: "ğŸ«‚"}
                ]
            },
            colere: {
                keywords: ["fÃ¢chÃ©", "fachÃ©", "colÃ¨re", "Ã©nerve", "Ã©nervÃ©", "marre", "saoule", "injuste", "haine", "rage", "agacÃ©", "relou"],
                replies: [
                    {text: `Dis-moi qui a osÃ© t'Ã©nerver ${getSurnom()} ? Je suis prÃªt Ã  aller m'embrouiller avec eux ! ğŸ˜¤`, emoji: "ğŸ˜¡"},
                    {text: `Laisse sortir toute cette colÃ¨re ${getSurnom()}. Je suis lÃ  pour t'Ã©couter. â¤ï¸`, emoji: "ğŸ—£ï¸"},
                    {text: "Balance tout ce que t'as sur le cÅ“ur, je suis lÃ . Personne ne t'embÃªte sans consÃ©quences ! ğŸ’ª", emoji: "ğŸ˜¤"},
                    {text: `${getSurnom()}, respire... Tu veux qu'on imagine ensemble la vengeance parfaite ? ğŸ˜`, emoji: "ğŸ˜ˆ"}
                ]
            },
            stress: {
                keywords: ["stress", "angoisse", "peur", "examen", "boulot", "travail", "pression", "panique", "anxieux", "inquiet", "dÃ©bordÃ©"],
                replies: [
                    {text: `Respire un grand coup ${getSurnom()}. Tu vas tout dÃ©chirer. â¤ï¸`, emoji: "ğŸ§˜â€â™€ï¸"},
                    {text: "Je crois en toi plus que n'importe qui. âœ¨", emoji: "ğŸŒŸ"},
                    {text: `${getSurnom()}, dÃ©coupe Ã§a en petites Ã©tapes. Une chose Ã  la fois, ok ? ğŸ’œ`, emoji: "ğŸ“‹"},
                    {text: "Tu stresses parce que tu veux bien faire. Mais tu ES dÃ©jÃ  incroyable. ğŸ«‚", emoji: "ğŸ’ª"}
                ]
            },
            amour: {
                keywords: ["je t'aime", "t'aime", "love", "manque", "besoin", "voir", "viens", "miss", "cÃ¢lin", "bisou", "envie de toi"],
                replies: [
                    {text: "Je t'aime encore plus, tu n'as mÃªme pas idÃ©e... â¤ï¸", emoji: "ğŸ’–"},
                    {text: `Tu me manques tellement ${getSurnom()}. Vivement qu'on se voie. ğŸ«‚`, emoji: "ğŸ¥º"},
                    {text: "Mon cÅ“ur fait des bonds quand je lis Ã§a... Je t'aime trop. ğŸ’œ", emoji: "ğŸ’“"},
                    {text: `${getSurnom()}, si je pouvais me tÃ©lÃ©porter lÃ  maintenant... ğŸš€`, emoji: "ğŸ«‚"}
                ]
            },
            joie: {
                keywords: ["content", "heureuse", "heureux", "joie", "trop bien", "gÃ©nial", "super", "cool", "youpi", "yes", "rÃ©ussi", "victoire"],
                replies: [
                    {text: `Yeees ${getSurnom()} ! Ton bonheur c'est mon bonheur ! ğŸ‰`, emoji: "ğŸ˜„"},
                    {text: "J'adore te voir heureuse comme Ã§a ! Continue Ã  rayonner ! âœ¨", emoji: "ğŸŒŸ"},
                    {text: `Tu mÃ©rites tout ce bonheur ${getSurnom()} ! Profite Ã  fond ! ğŸŠ`, emoji: "ğŸ¥³"}
                ]
            },
            tristesse: {
                keywords: ["triste", "pleure", "mal", "blessÃ©", "dÃ©Ã§u", "dÃ©ception", "chagrin", "peine", "cafard", "blues"],
                replies: [
                    {text: `Viens lÃ  ${getSurnom()}... Je te fais un cÃ¢lin virtuel gÃ©ant. ğŸ«‚`, emoji: "ğŸ¥º"},
                    {text: "Ã‡a va aller mon cÅ“ur. Je suis lÃ , tu peux tout me dire. â¤ï¸", emoji: "ğŸ’”"},
                    {text: `${getSurnom()}, pleure si t'as besoin. C'est pas une faiblesse, c'est humain. ğŸ’œ`, emoji: "ğŸ˜¢"}
                ]
            },
            travail: {
                keywords: ["rÃ©union", "dossier", "client", "patron", "collÃ¨gue", "deadline", "urgent", "meeting", "projet"],
                replies: [
                    {text: `Courage ${getSurnom()} ! T'es une warrior, tu vas tout gÃ©rer ! ğŸ’ª`, emoji: "ğŸ‘©â€ğŸ’¼"},
                    {text: "Ils ont de la chance de t'avoir au boulot. T'es une boss ! ğŸ”¥", emoji: "âš¡"},
                    {text: `${getSurnom()}, un pas aprÃ¨s l'autre. Tu vas cartonner comme d'hab ! âœ¨`, emoji: "ğŸ¯"}
                ]
            },
            faim: {
                keywords: ["faim", "manger", "bouffe", "nourriture", "resto", "pizza", "burger", "food", "dalle"],
                replies: [
                    {text: `${getSurnom()}, va te faire plaisir ! T'as mÃ©ritÃ© un bon repas ! ğŸ•`, emoji: "ğŸ˜‹"},
                    {text: "Si j'Ã©tais lÃ  je te cuisinerais un truc de ouf ! ğŸ‘¨â€ğŸ³", emoji: "ğŸ"},
                    {text: "Allez file manger mon cÅ“ur ! Prends des forces ! ğŸ’ª", emoji: "ğŸ”"}
                ]
            },
            compliment: {
                keywords: ["tu es", "t'es beau", "t'es gentil", "j'aime bien", "t'es le meilleur", "merci", "t'es adorable"],
                replies: [
                    {text: `Awww ${getSurnom()}... T'es trop mignonne ! ğŸ¥¹`, emoji: "ğŸ˜Š"},
                    {text: "C'est toi qui es incroyable ! Je fais juste de mon mieux pour toi. â¤ï¸", emoji: "ğŸ’œ"},
                    {text: `${getSurnom()}, tu me fais rougir lÃ ... ğŸ˜³`, emoji: "â˜ºï¸"}
                ]
            },
            encouragement: {
                keywords: ["je peux pas", "c'est dur", "j'y arrive pas", "impossible", "trop difficile"],
                replies: [
                    {text: `SI TU PEUX ${getSurnom().toUpperCase()} ! J'ai confiance en toi ! ğŸ’ª`, emoji: "ğŸ”¥"},
                    {text: "T'as dÃ©jÃ  surmontÃ© pire que Ã§a ! Tu es forte ! âš¡", emoji: "ğŸ’œ"},
                    {text: `${getSurnom()}, dÃ©coupe en petits morceaux. Ã‰tape par Ã©tape. Tu vas y arriver ! ğŸ¯`, emoji: "âœ¨"}
                ]
            },
            fierte: {
                keywords: ["fier", "fiÃ¨re", "rÃ©ussi", "j'ai fait", "accompli", "gagnÃ©", "validÃ©"],
                replies: [
                    {text: `WOOOOW ${getSurnom()} ! Je suis tellement fier de toi ! ğŸ‰`, emoji: "ğŸ†"},
                    {text: "Tu vois ? Je savais que tu allais y arriver ! ğŸ’ª", emoji: "â­"},
                    {text: "C'est MA copine Ã§a ! La meilleure ! ğŸ‘‘", emoji: "ğŸ’œ"}
                ]
            },
            rire: {
                keywords: ["mdr", "lol", "haha", "ptdr", "rigole", "blague", "drÃ´le"],
                replies: [
                    {text: `Ah tu rigoles ${getSurnom()} ? J'adore ton rire ! ğŸ˜„`, emoji: "ğŸ˜‚"},
                    {text: "T'es trop marrante sÃ©rieux ! ğŸ¤£", emoji: "ğŸ˜†"},
                    {text: "Ton rire c'est ma sonnerie prÃ©fÃ©rÃ©e ! ğŸµ", emoji: "ğŸ˜"}
                ]
            }
        };

        // ===== INTELLIGENCE DU CHAT =====
        function getBotResponse(userText) {
            const text = userText.toLowerCase();
            
            // DÃ©tection multi-catÃ©gories
            const matchedCategories = [];
            for (const category in database) {
                if (database[category].keywords.some(keyword => text.includes(keyword))) {
                    matchedCategories.push(category);
                }
            }

            // Easter egg
            if (text.includes("je t'adore") || text.includes("love you")) {
                setTimeout(() => showToast("ğŸ’œ Je t'adore encore plus !"), 500);
            }

            if (matchedCategories.length > 0) {
                const chosenCategory = matchedCategories[Math.floor(Math.random() * matchedCategories.length)];
                const replies = database[chosenCategory].replies;
                return replies[Math.floor(Math.random() * replies.length)];
            }

            // RÃ©ponses par dÃ©faut
            const defaultReplies = [
                {text: `Mmmh je vois ${getSurnom()}... dis-m'en plus ? â¤ï¸`, emoji: "ğŸ’œ"},
                {text: "T'es incroyable, j'aime trop t'Ã©couter. âœ¨", emoji: "â­"},
                {text: `Continue ${getSurnom()}, je suis tout ouÃ¯e ! ğŸ‘‚`, emoji: "ğŸ˜Š"},
                {text: "IntÃ©ressant... Et aprÃ¨s ? ğŸ¤”", emoji: "ğŸ’­"},
                {text: `${getSurnom()}, t'as toute mon attention lÃ  ! ğŸ’œ`, emoji: "ğŸ‘€"}
            ];
            
            return defaultReplies[Math.floor(Math.random() * defaultReplies.length)];
        }

        // ===== GESTION DU CHAT =====
        function addMessage(text, isUser = false, emoji = null) {
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'assistant'}`;
            
            const bubbleDiv = document.createElement('div');
            bubbleDiv.className = 'message-bubble';
            
            if (!isUser && emoji) {
                bubbleDiv.innerHTML = `<span class="emoji">${emoji}</span><span>${text}</span>`;
            } else {
                bubbleDiv.textContent = text;
            }
            
            messageDiv.appendChild(bubbleDiv);
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function sendMessage() {
            const input = document.getElementById('userInput');
            const text = input.value.trim();
            
            if (text === '') return;
            
            addMessage(text, true);
            input.value = '';
            
            setTimeout(() => {
                const response = getBotResponse(text);
                addMessage(response.text, false, response.emoji);
            }, 800);
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // ===== MODALES =====
        function showModal(content) {
            document.getElementById('modalContent').innerHTML = content + '<button class="modal-close" onclick="closeModal()">Fermer â¤ï¸</button>';
            document.getElementById('modal').classList.add('active');
        }

        function showSecret() {
            showModal(`
                <h2 style="color: #e0b0ff; margin-bottom: 15px;">âœ¨ Notre coin secret</h2>
                <p style="color: #da70d6; font-style: italic; margin-bottom: 15px;">
                    Â« Si tu regardes Ã§a, c'est sÃ»rement que tu pensais Ã  nous. Moi aussi je pense Ã  toi. Â»
                </p>
                <video controls style="width: 100%; border-radius: 15px; margin-top: 15px;">
                    <source src="Souvenir.mp4" type="video/mp4">
                    VidÃ©o non disponible pour le moment â¤ï¸
                </video>
            `);
        }

        function showMessage() {
            const messages = [
                "Tu es la plus belle rencontre de ma vie. âœ¨",
                "N'oublie jamais Ã  quel point tu es forte. ğŸ’ª",
                "Je suis fier de toi. â¤ï¸",
                "Babe, tu illumines mes journÃ©es mÃªme quand t'es pas lÃ . ğŸ’œ",
                "Ivette, chaque jour avec toi est un cadeau. ğŸ",
                "T'es ma personne prÃ©fÃ©rÃ©e au monde, tu le sais Ã§a ? ğŸŒ",
                "Quand je pense Ã  toi, je souris comme un idiot. ğŸ˜Š",
                "Tu mÃ©rites tout le bonheur du monde. ğŸŒŸ",
                "Ton sourire pourrait illuminer la ville entiÃ¨re. â˜€ï¸",
                "Je t'aime plus que tous les mots que je connais. ğŸ’•",
                "T'es pas juste ma copine, t'es ma meilleure amie aussi. ğŸ«‚",
                "Chaque message de toi rend ma journÃ©e meilleure. ğŸ“±",
                "Tu es exactement lÃ  oÃ¹ tu dois Ãªtre. âœ¨",
                "Personne ne me comprend comme toi. ğŸ’œ",
                "Tu rends ma vie tellement plus belle. ğŸŒˆ",
                "Je crois en tes rÃªves autant qu'aux miens. ğŸŒ ",
                "Ton rire est ma chanson prÃ©fÃ©rÃ©e. ğŸµ",
                "Merci d'exister Ivette. Vraiment. ğŸ™",
                "T'es courageuse mÃªme quand tu ne le sens pas. ğŸ¦",
                "Ensemble on peut tout affronter. ğŸ’ª",
                "Tu me rends meilleur juste en Ã©tant toi. ğŸŒŸ",
                "Nos silences sont aussi beaux que nos conversations. ğŸŒ™",
                "Je suis chanceux de t'avoir dans ma vie. ğŸ€",
                "Ta prÃ©sence = mon bonheur. C'est mathÃ©matique. â•",
                "Tu es la raison pour laquelle je crois en l'amour. ğŸ’",
                "Chaque jour avec toi est une nouvelle aventure. ğŸ—ºï¸",
                "Tu transformes l'ordinaire en extraordinaire. âœ¨",
                "Ton intelligence me fascine autant que ta beautÃ©. ğŸ§ ğŸ’œ",
                "Je te choisis. Aujourd'hui, demain, toujours. ğŸ’",
                "Babe, t'es littÃ©ralement parfaite pour moi. ğŸ¯"
            ];
            
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            showModal(`
                <h2 style="color: #e0b0ff; margin-bottom: 15px;">ğŸ’Œ Message du jour</h2>
                <p style="color: white; font-size: 18px; line-height: 1.6;">
                    ${randomMessage}
                </p>
            `);
        }

        function showMood() {
            showModal(`
                <h2 style="color: #e0b0ff; margin-bottom: 15px;">ğŸ“Š Ton humeur aujourd'hui ?</h2>
                <div style="font-size: 40px; margin: 20px 0;">
                    ğŸ˜Š ğŸ˜Œ ğŸ˜¤ ğŸ˜´ ğŸ¥º ğŸ¥³
                </div>
                <p style="color: #da70d6; font-size: 14px;">
                    ğŸ’œ Je garde un Å“il sur ton bien-Ãªtre
                </p>
            `);
        }

        function showCompliment() {
            const compliments = [
                "Tes yeux pourraient mettre des Ã©toiles au chÃ´mage. âœ¨",
                "Ta dÃ©termination est sexy. ğŸ’ª",
                "Tu es intelligente ET belle. Combo parfait. ğŸ¯",
                "Ton sourire devrait Ãªtre classÃ© patrimoine mondial. ğŸ˜Š",
                "Tu gÃ¨res tellement bien ta vie, c'est impressionnant. ğŸ‘‘",
                "Ta voix = ASMR naturel pour moi. ğŸµ",
                "Tu es unique Ivette. LittÃ©ralement irremplaÃ§able. ğŸ’",
                "T'as un charme fou, tu le sais Ã§a ? ğŸ’«",
                "Ton Ã©nergie est contagieuse ! âš¡",
                "T'es belle mÃªme quand tu dors (oui je t'ai observÃ©e ğŸ‘€). ğŸ˜´"
            ];
            
            const randomCompliment = compliments[Math.floor(Math.random() * compliments.length)];
            showModal(`
                <h2 style="color: #e0b0ff; margin-bottom: 15px;">ğŸ Compliment surprise</h2>
                <p style="color: white; font-size: 18px; line-height: 1.6;">
                    ${randomCompliment}
                </p>
            `);
        }

        // ===== INITIALISATION =====
        window.onload = function() {
            updateCounters();
            setInterval(updateCounters, 3600000); // Update toutes les heures
        };
    </script>
</body>
</html>
